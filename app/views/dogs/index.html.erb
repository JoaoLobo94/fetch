<div class="container">
  <div class="page-title">
    <h1> Browse your new doggo friend </h1>
  </div>

  <div class="d-flex justify-content-center">
    <%= form_tag dogs_path, method: :get do %>
    <%= text_field_tag :query,
    params[:query],
    class: "form-control search-bar",
      placeholder: "Find a dog by location"
      %>
    </div>
    <% end %>

    <div
      id="map"
      style="width: 100%;
      height: 600px;"
      data-markers="<%= @markers.to_json %>"
      data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>"
    ></div>

    <div class="grid-container">
      <%  @dogs.each do |dog|  %>
      <div class="card card-margin-border-radius">
        <img src='<%= dog.photo %>', class="card-photo" />
        <div class="card-body">
          <h5 class="card-title"><%= dog.name %></h5>
          <p class="card-text"><%= dog.location %></p>
          <p class="card-text"> <%= dog.description %> </p>
          <%= link_to "Details", dog_path(dog), class: "btn btn-flat"%>
        </div>
      </div>
      <% end %>
    </div>

  </div>
